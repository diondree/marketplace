// datasource db {
// provider = "mysql"
// url = "***"
// }
datasource db {
  provider = "postgres"
  url = "***"
}

generator client {
  provider = "prisma-client-js"
}

// Seller Related Schemas
model Seller {
  id       String  @id
  name     String
  email    String  @unique
  password String  @default("")
  store    Store[]
}

model Store {
  id       String    @id
  name     String
  key      String?   @unique
  seller   Seller    @relation(fields: [sellerId], references: [id])
  sellerId String
  products Product[]
  active   Boolean   @default(true)
}

model SellerMembership {
  id       String @id
  seller   Seller @relation(fields: [sellerId], references: [id])
  sellerId String
}

// Product Related Schemas
model Product {
  id          String   @id
  name        String
  description String?
  images      Image[]
  price       Float
  store       Store    @relation(fields: [storeId], references: [id])
  storeId     String
  published   Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Image {
  id        String  @id
  name      String
  url       String
  product   Product @relation(fields: [productId], references: [id])
  productId String
}

model Category {
  id          String   @id
  title       String
  description String
  parent      Category @relation("CategoryToCategory", fields: [parentId], references: [id])
  parentId    String
  imageUrl    String
}

// User Related Schemas
model User {
  id       String  @id
  email    String  @unique
  username String  @unique
  name     String?
  password String  @default("")
}